<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
 ~ Copyright (c) 2005-2010, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 ~
 ~ WSO2 Inc. licenses this file to you under the Apache License,
 ~ Version 2.0 (the "License"); you may not use this file except
 ~ in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~    http://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing,
 ~ software distributed under the License is distributed on an
 ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 ~ KIND, either express or implied.  See the License for the
 ~ specific language governing permissions and limitations
 ~ under the License.
 -->
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"></meta>
		<title> Message Broker Queues and Queue Subscriptions- User Guide</title>
        <link href="../../admin/css/documentation.css" rel="stylesheet" type="text/css" media="all"/>
	</head>
    <body style="font-family: Times New Roman,Times,serif; font-size: 12pt;">
    <h1>Message Broker Queues</h1>

    <p>Queues is a feature provided with WSO2 Message Broker which enables users to publish messages and receive them in
       the order that they are sent.These queues are natively persistent, which indicates even after shutting down the
       server or a sudden crash messages will be remain in the queue ready to be delivered.</p>

    <p>Operations available for queues are:</p>

    <ul>
        <li>Add a queue</li>
        <li>Browse queue information</li>
        <li>Delete a queue</li>
    </ul>

    <h2>Add a queue</h2>

    <p><img alt="" src="../images/queue_add.png"/></p>
    <p align="middle">Figure 1: Add Queue</p>

    <p>Using this operation users can add queues to the system. They get created in message broker server, ready for
       message receiving from and sending to client applications. When creating the queue a meaningful name should be
       given without any "/" literals included. This will be the identifier for the queue you have created.</p>

    <p><img alt="" src="../images/queue_add_success.png"/></p>
    <p align="middle">Figure 2: Add Queue Success</p>

    <p>Note that external applications can create queues programatically as well. </p>
    <p>Once a queue is added user will be redirected to queue information browsing page.</p>

    <h2>Browse queue information</h2>

    <p>The table shows all the queues available in message broker server. It also shows message count for each queue,
       number of messages in persistent state not delivered to the consuming client. </p>
    <p>Queues created by external client applications will be listed here with message count in the same way. But in
        order to view them you should be in "Super Tenant" (default) mode.</p>

    <p><img alt="" src="../images/queue_browse.png"/></p>
    <p align="middle">Figure 3: Available Queues</p>

    <h2>Delete a Queue</h2>
    <p>Users can remove one or more queues from the server. All the messages persisted with that queue will be lost on
       queue deletion. A Success message will pop-up on successful queue deletion, and can be verified by looking at
       the available queue list. </p>

    <p><img alt="" src="../images/queue_delete_success.png"/></p>
    <p align="middle">Figure 4: Deleting Queues</p>

    <h2>Tenant-specific Queue Creation</h2>
    <p>If you are in some tenant domain other than "Super Tenant" for example "a.com", when you create a queue in above
       mentioned way (eg:myQueue) the queue created in browser will be "a-com/myQueue". You will notice this when you
       are directed to queue browsing page. If the user intend to send to and consume from the queue using an external
       client application, the physical queue name (i.e "a-com/myQueue") should be used.</p>
    <p><img alt="" src="../images/queue_from_tenant.png"/></p>
    <p align="middle">Figure 5: Queues Added By Tenants</p>

    <h2>Distributed Queues in Clustered Mode</h2>
    <p>When you are running a few instances of WSO2 Message Broker, queues are always distributed. At a particular moment
       a queue is owned by some node in a cluster. When some node fails in the cluster, if client applications are
       configured to use "fail-over", it will be able to send and consume messages from the cluster without any failures
       or any message loses. Clustering operations and synchronizing messages across the cluster is fully transparent to
       the user.</p>
    <h2>Advanced Tuning of Queue Properties and Performance</h2>
    <p>There is a lot of configurations can be done while configuring an instance of WSO2 MB to improve performance and
       functionality. Please refer Wikis for more detail.</p>

	</body>
</html>
