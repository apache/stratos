<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one
  ~ or more contributor license agreements.  See the NOTICE file
  ~ distributed with this work for additional information
  ~ regarding copyright ownership.  The ASF licenses this file
  ~ to you under the Apache License, Version 2.0 (the
  ~ "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"></meta>
  <title>Reliable messaging - User Guide</title>
  <link href="../../admin/css/documentation.css" rel="stylesheet" type="text/css" media="all" />
  </head>

<body>
<h1>Reliable Messaging</h1>

<p>The goal of Reliable Messaging in Web services is to allow applications to
send and receive messages in an efficient, and reliable manner
amidst application, platform, or network failure. The WS-Reliable Messaging
specification (WS-RM), defines a protocol and a set of mechanisms that ensure
that messages are delivered reliably between two endpoints.</p>

<p>The WSO2 Web Services Application Server (WSAS) provides a Reliable
Messaging tool that is used to enable WS-RM to services at global level and service level. If
you activate reliable messaging for a particular service, your configurations
will be applied to that particular service. WS-Reliable Messaging handles and
solves both simple and complex scenarios arising in message transmission.</p>

<p></p>

<h2>Enabling Reliable Messaging</h2>
<p><strong>Service Level</strong></p>
<ol>
  <li>In the navigator, under Manage/Services, click <strong>List</strong>.
    The <em><strong>Deployed Services</strong></em> page appears. </li>
  <li>Click the service for which you want to activate reliable messaging.
    The <em><strong>Service Dashboard</strong></em> page appears. </li>
  <li>Click <strong>Reliable Messaging</strong> in the Quality of Service
    Configuration panel. The <em><strong>Enable Reliable
    Messaging</strong></em> page appears.</li>
  <li>In the <strong>Enable Reliable Messaging</strong> list, click
    <strong>Yes</strong>.
    The current reliable messaging configuration appears.</li>
  <li>Modify the configuration if required.</li>
  <li>Click <strong>Finish</strong>.
    Reliable messaging will be activated for that particular service.</li>
</ol>

<p><a href="#Sequence">Field Descriptions</a></p>

<p><img alt="" src="./images/rm.jpg" height="462" width="713"/></p>

<p>Figure 1: Enabling Reliable Messaging</p>

<p><strong>Global Level</strong></p>

<p>In the navigator, under Manage/Modules, click click <strong>List</strong>.
    This will show you all the deployed modules. Then click <strong>Configure</strong> link
    in front of sandesha2 module. Then you can configure reliable meassaging in the same
    way as explained above.</p>

<h2><a name="Sequence" id="Sequence">RM Sequence Configuration
Parameters</a></h2>

<p>WS-RM defines a one way sequence. The sender (source) is called the RMS
(reliable messaging source) and the receiver (destination) is called the RMD
(reliable messaging destination). Therefore for in-out operations, the RM
uses two sequences. For request messages, the server acts as the RMD and for
response messages, the server act as the RMS.</p>

<table style="width: 100%;" border="1">
  <tbody>
    <tr>
      <td><strong>Inactivity Timeout Interval </strong></td>
      <td>The maximum inactive time for any RM session. After the sequence
        timeout, the RM session is terminated.</td>
    </tr>
    <tr>
      <td>I<strong>nactivity Timeout Measure</strong></td>
      <td>The unit in which the inactivity timeout interval is specified.</td>
    </tr>
    <tr>
      <td><strong>Sequence Removal Timeout Interval</strong></td>
      <td>If the sequence is inactive during this time period, the sequence
        is removed from the storage.</td>
    </tr>
    <tr>
      <td><strong>Sequence Removal Timeout Measure </strong></td>
      <td>The unit in which the sequence removal timeout interval is
        specified.</td>
    </tr>
    <tr>
      <td><strong>Acknowledgment Interval</strong></td>
      <td>The time interval that the RMD uses to send the acknowledgments</td>
    </tr>
    <tr>
      <td><strong>Retransmission Interval</strong></td>
      <td>The time interval after which the RMS retransmits the message if it
        does not get an acknowledgment </td>
    </tr>
    <tr>
      <td><strong>ExponentialBackoff</strong></td>
      <td>Whether RMS exponentially increases the retransmission time or
      not</td>
    </tr>
    <tr>
      <td><strong>Maximum Retransmission Count</strong></td>
      <td>The maximum number of retransmits the RMS sends</td>
    </tr>
  </tbody>
</table>

<p></p>

<h2>Permanent Storage Parameters</h2>

<table style="width: 100%;" border="1">
  <caption></caption>
  <tbody>
    <tr>
      <td><strong>Storage Manager</strong></td>
      <td>The type of storage manager to use.</td>
    </tr>
    <tr>
      <td><strong>Connection String</strong></td>
      <td>The JDBC connection string to the database.</td>
    </tr>
    <tr>
      <td><strong>Driver Name</strong></td>
      <td>The driver name to use for this connection.</td>
    </tr>
    <tr>
      <td><strong>User Name</strong></td>
      <td>The database user name.</td>
    </tr>
    <tr>
      <td><strong>Password</strong></td>
      <td>The database user password.</td>
    </tr>
  </tbody>
</table>

<p>
</p>

<p></p>
</body></html>
